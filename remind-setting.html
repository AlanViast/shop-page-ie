<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>提醒设置</title>

    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/custom.css">
    <link rel="stylesheet" href="./css/minimal/grey.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="./js/html5shiv.min.js"></script>
      <script src="./js/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <div class="container">
        <div class="row remind-setting">
            <div class="text-center">
                <h1>提醒设置</h1>
            </div>
            <hr width="110px" class="text-center" />

            <div class="col-md-12">
                <h4>社区消息<img src="./image/Fill 109.png" alt=""></h4>
                <div class="remind-setting-option" data-remind-index="1">
                    <a href="#" class="btn btn-modify btn-tab" data-remind-tab="2">修改</a>
                    <p class="text-muted">设置网页通知栏提醒设置</p>
                </div>

                <div class="remind-setting-option hidden" data-remind-index="2">
                    <a href="#" class="btn btn-cancel pull-right btn-tab" data-remind-tab="1">取消</a>
                    <a href="#" class="btn btn-save pull-right btn-tab" data-remind-tab="1">保存</a>
                    <p class="text-muted">
                        <input type="checkbox"> 我的推文被转推
                    </p>
                    <p class="text-muted">
                        <input type="checkbox"> 我的推文被收藏
                    </p>
                    <p class="text-muted">
                        <input type="checkbox" data-sub-group="sub-group-1"> 我的推文被回复
                    </p>
                    <p class="radio-group hidden" id="sub-group-1" >
                        <span class="text-muted">
                            <input type="radio" name="remind1" >全部提醒
                        </span>
                        <span class="text-muted">
                            <input type="radio" name="remind1" >仅关注的人提醒
                        </span>
                    </p>

                    <p class="text-muted">
                        <input type="checkbox"> 我被某人关注
                    </p>
                    <p class="text-muted">
                        <input type="checkbox"> 我收到一条私信
                    </p>
                    <p class="text-muted">
                        <input type="checkbox" data-sub-group="sub-group-2"> 我被某人@
                    </p>
                    <p class="radio-group hidden"  id="sub-group-2">
                        <span class="text-muted">
                            <input type="radio" name="remind2" >全部提醒
                        </span>
                        <span class="text-muted">
                            <input type="radio" name="remind2" >仅关注的人提醒
                        </span>
                    </p>
                </div>
            </div>

            <div class="col-md-12">
                <h4>投资流程<img src="./image/Fill 144.png" alt=""></h4>
                <div class="remind-setting-option" data-remind-index="1">
                    <a href="#" class="btn btn-modify btn-tab" data-remind-tab="2">修改</a>
                    <p class="text-muted">设置手机提现充值， 企业直投， 债权交易等提醒设置</p>
                </div>

                <div class="remind-setting-option hidden" data-remind-index="2">
                    <a href="#" class="btn btn-cancel pull-right btn-tab" data-remind-tab="1">取消</a>
                    <a href="#" class="btn btn-save pull-right btn-tab" data-remind-tab="1">保存</a>
                    <p class="text-muted">
                        <input type="checkbox"> 充值， 取现的成功失败
                    </p>
                    <p class="text-muted">
                        <input type="checkbox"> 投资项目成功
                    </p>
                    <p class="text-muted">
                        <input type="checkbox"> 收到利息或者本金
                    </p>
                    <p class="text-muted">
                        <input type="checkbox"> 债券交易订单信息
                    </p>
                    <p class="text-muted">
                        <input type="checkbox"> 债券交易订单成功或失败信息
                    </p>
                </div>
            </div>

            <div class="col-md-12">
                <h4>促销活动<img src="./image/Fill 144.png" alt=""><img src="./image/Fill 185.png" alt=""></h4>
                <div class="remind-setting-option" data-remind-index="1">
                    <a href="#" class="btn btn-modify btn-tab" data-remind-tab="2">修改</a>
                    <p>设置邮件或手机关于融部落产品和功能更新的消息</p>
                </div>

                <div class="remind-setting-option hidden" data-remind-index="2">
                    <a href="#" class="btn btn-cancel pull-right btn-tab" data-remind-tab="1">取消</a>
                    <a href="#" class="btn btn-save pull-right btn-tab" data-remind-tab="1">保存</a>
                    <p>

                        <span class="text-muted">
                            <input class="checkbox-group" type="checkbox"> 手机
                        </span>
                        <span class="text-muted">
                            <input class="checkbox-group" type="checkbox"> 邮箱
                        </span>
                        <span class="padding-left-30 tip text-muted">
                            关于融部落产品和功能更新的消息
                        </span>
                    </p>
                    <p>
                        <span class="text-muted">
                            <input class="checkbox-group" type="checkbox"> 手机
                        </span>
                        <span class="text-muted">
                            <input class="checkbox-group" type="checkbox"> 邮箱
                        </span>
                        <span class="padding-left-30 tip text-muted">
                            融部落的促销消息
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>

    <script src="./js/jquery-1.11.1.js" type="text/javascript"></script>
    <script src="./js/icheck.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function(){
          $('input').iCheck({
            checkboxClass: 'icheckbox_minimal-grey',
            radioClass: 'iradio_minimal-grey',
            increaseArea: '20%' // optional
          });

          $('input').on("ifChecked", function(event){
            var $parent = $(this).parents("span");
            if($parent.size() == 1){
                $parent.removeClass('text-muted');
                if($(this).hasClass('checkbox-group')){
                    $parent = $(this).parents("p");
                    var $checkboxGroupArr = $parent.find('.checkbox-group:checked');
                    if($checkboxGroupArr.size() == 1){
                        $parent.find('.tip').removeClass('text-muted');
                    }
                }
            } else {
                var $parent = $(this).parents("p");
                $parent.removeClass('text-muted');
                var subId = $(this).data("sub-group");
                $('#' + subId).removeClass('hidden');
            }
          });

          $('input').on("ifUnchecked", function(event){
            $parent = $(this).parents("span");
            if($parent.size() == 1){
                $parent.addClass('text-muted');
                if($(this).hasClass('checkbox-group')){
                    $parent = $(this).parents("p");
                    var $checkboxGroupArr = $parent.find('.checkbox-group:checked');
                    if($checkboxGroupArr.size() == 0){
                        $parent.find('.tip').addClass('text-muted');
                    }
                }
            } else {
                $(this).parents("p").addClass('text-muted');
                var subId = $(this).data("sub-group");
                $('#' + subId).addClass('hidden');
            }
          });

          $(".btn-tab").click(function(event) {
            var tabIndex = $(this).data("remind-tab");
            //alert("test");
            var $parentDiv = $(this).parents(".col-md-12");
            var $remindSettingOption = $parentDiv.find(".remind-setting-option");
            $remindSettingOption.addClass('hidden');
            var $temp = $parentDiv.find("[data-remind-index=" + tabIndex + "]");
            $temp.removeClass('hidden');
          });

        });
    </script>
</html>
